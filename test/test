#!/usr/bin/env bash
set -e

# See https://github.com/kward/shunit2/

source $(dirname $0)/env

setUp() {
  startVm
}

tearDown() {
  stopVm
}

testSSH() {
  actual=$($ssh 'echo hello')
  assertEquals "hello" "$actual"
}

testDazzle() {
  actual=$($ssh 'dazzle')
  assertContains "$actual" "Usage: dazzle "
}

testDazzleSetup() {
  actual=$($ssh 'dazzle setup')
  assertContains "$actual" "Setup complete!"
}

. $testenv/shunit2/shunit2
